{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport axios from 'axios';\nconst ParentReducer = () => {\n  _s();\n  const [initialState, setState] = useState([]);\n  useEffect(() => {\n    // Fetch data from API when component mounts\n    axios.get('http://localhost:4000/students').then(res => {\n      setState(res.data);\n    }).catch(error => {\n      console.error('Error fetching data:', error);\n    });\n  }, []); // Empty dependency array ensures this effect runs only once when component mounts\n\n  console.log(initialState);\n  const reducer = (state = initialState, action) => {\n    switch (action.type) {\n      case \"AddContact\":\n        return {\n          ...state,\n          initialState: [...state.initialState, action.payload]\n        };\n      case \"EditeContact\":\n        const contact = state.initialState.find(cn => cn.id == action.payload.id);\n        if (contact) {\n          contact.nom = action.payload.nom;\n          contact.email = action.payload.email;\n        }\n        return state;\n      case \"DetailContact\":\n        return {};\n      case \"DeleteContact\":\n        return {\n          ...state,\n          initialState: [...state.initialState.filter(n => n.id !== parseInt(action.payload))]\n        };\n      default:\n        return state;\n    }\n  };\n\n  // Placeholder return statement as functional components must return something\n  return null;\n};\n_s(ParentReducer, \"GnQbJRRBTD5cM/kj0U+er00r4kU=\");\n_c = ParentReducer;\nexport default ParentReducer;\nvar _c;\n$RefreshReg$(_c, \"ParentReducer\");","map":{"version":3,"names":["useEffect","useState","axios","ParentReducer","_s","initialState","setState","get","then","res","data","catch","error","console","log","reducer","state","action","type","payload","contact","find","cn","id","nom","email","filter","n","parseInt","_c","$RefreshReg$"],"sources":["C:/Users/hp/Desktop/ramadanProjet/client/src/Atelier3/reducer.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from 'axios';\r\n\r\nconst ParentReducer = () => {\r\n    const [initialState, setState] = useState([]);\r\n\r\n    useEffect(() => {\r\n        // Fetch data from API when component mounts\r\n        axios.get('http://localhost:4000/students')\r\n        .then((res) => {\r\n            setState(res.data);\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error fetching data:', error);\r\n        });\r\n    }, []); // Empty dependency array ensures this effect runs only once when component mounts\r\n\r\n    console.log(initialState);\r\n\r\n    const reducer = (state = initialState, action) => {\r\n        switch(action.type) {\r\n            case \"AddContact\":\r\n                return {...state, initialState: [...state.initialState, action.payload] };\r\n            \r\n            case \"EditeContact\":\r\n                const contact = state.initialState.find((cn) => cn.id == action.payload.id );\r\n                if(contact) {\r\n                    contact.nom = action.payload.nom;\r\n                    contact.email = action.payload.email;\r\n                }\r\n                return state;\r\n            \r\n            case \"DetailContact\":\r\n                return {};\r\n            \r\n            case \"DeleteContact\":\r\n                return {...state, initialState: [...state.initialState.filter(n => n.id !== parseInt(action.payload))]};\r\n            \r\n            default: \r\n                return state\r\n        }\r\n    }\r\n\r\n    // Placeholder return statement as functional components must return something\r\n    return null;\r\n}\r\n\r\nexport default ParentReducer;\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM,CAACC,YAAY,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAE7CD,SAAS,CAAC,MAAM;IACZ;IACAE,KAAK,CAACK,GAAG,CAAC,gCAAgC,CAAC,CAC1CC,IAAI,CAAEC,GAAG,IAAK;MACXH,QAAQ,CAACG,GAAG,CAACC,IAAI,CAAC;IACtB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAChD,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAERC,OAAO,CAACC,GAAG,CAACT,YAAY,CAAC;EAEzB,MAAMU,OAAO,GAAGA,CAACC,KAAK,GAAGX,YAAY,EAAEY,MAAM,KAAK;IAC9C,QAAOA,MAAM,CAACC,IAAI;MACd,KAAK,YAAY;QACb,OAAO;UAAC,GAAGF,KAAK;UAAEX,YAAY,EAAE,CAAC,GAAGW,KAAK,CAACX,YAAY,EAAEY,MAAM,CAACE,OAAO;QAAE,CAAC;MAE7E,KAAK,cAAc;QACf,MAAMC,OAAO,GAAGJ,KAAK,CAACX,YAAY,CAACgB,IAAI,CAAEC,EAAE,IAAKA,EAAE,CAACC,EAAE,IAAIN,MAAM,CAACE,OAAO,CAACI,EAAG,CAAC;QAC5E,IAAGH,OAAO,EAAE;UACRA,OAAO,CAACI,GAAG,GAAGP,MAAM,CAACE,OAAO,CAACK,GAAG;UAChCJ,OAAO,CAACK,KAAK,GAAGR,MAAM,CAACE,OAAO,CAACM,KAAK;QACxC;QACA,OAAOT,KAAK;MAEhB,KAAK,eAAe;QAChB,OAAO,CAAC,CAAC;MAEb,KAAK,eAAe;QAChB,OAAO;UAAC,GAAGA,KAAK;UAAEX,YAAY,EAAE,CAAC,GAAGW,KAAK,CAACX,YAAY,CAACqB,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACJ,EAAE,KAAKK,QAAQ,CAACX,MAAM,CAACE,OAAO,CAAC,CAAC;QAAC,CAAC;MAE3G;QACI,OAAOH,KAAK;IACpB;EACJ,CAAC;;EAED;EACA,OAAO,IAAI;AACf,CAAC;AAAAZ,EAAA,CA1CKD,aAAa;AAAA0B,EAAA,GAAb1B,aAAa;AA4CnB,eAAeA,aAAa;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}