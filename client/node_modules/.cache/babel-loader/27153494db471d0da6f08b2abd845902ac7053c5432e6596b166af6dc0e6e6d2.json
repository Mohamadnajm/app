{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nconst fetchData = async () => {\n  try {\n    const response = await axios.get('http://localhost:3001/students');\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    return [];\n  }\n};\nconst initialState = {\n  infoContacts: [] // Initialize with an empty array\n};\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"AddContact\":\n      axios.post(\"http://localhost:3001/students/create\", action.payload).then(response => {\n        // Handle success if needed\n        console.log(response.data);\n      }).catch(error => {\n        // Handle error if needed\n        console.error('Error adding contact:', error);\n      });\n      break;\n    case \"EditeContact\":\n      const contact = state.infoContacts.find(cn => cn.id == action.payload.id);\n      if (contact) {\n        contact.nom = action.payload.nom;\n        contact.email = action.payload.email;\n      }\n      break;\n    case \"DetailContact\":\n      break;\n    case \"DeleteContact\":\n      return {\n        ...state,\n        infoContacts: [...state.infoContacts.filter(n => n.id !== parseInt(action.payload))]\n      };\n    default:\n      return state;\n  }\n};\nconst ContactsReducer = () => {\n  _s();\n  const dispatch = useDispatch();\n  const contacts = useSelector(state => state.infoContacts);\n  useEffect(() => {\n    fetchData().then(data => {\n      dispatch({\n        type: \"SET_CONTACTS\",\n        payload: data\n      });\n    });\n  }, [dispatch, contacts]);\n  return reducer;\n};\n_s(ContactsReducer, \"SXDjhPuUadeFQ2xFNHNUrUCI1VQ=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = ContactsReducer;\nconst SET_CONTACTS = \"SET_CONTACTS\";\nconst setContacts = contacts => {\n  return {\n    type: SET_CONTACTS,\n    payload: contacts\n  };\n};\nexport { ContactsReducer, setContacts };\nvar _c;\n$RefreshReg$(_c, \"ContactsReducer\");","map":{"version":3,"names":["axios","useEffect","useSelector","useDispatch","fetchData","response","get","data","error","console","initialState","infoContacts","reducer","state","action","type","post","payload","then","log","catch","contact","find","cn","id","nom","email","filter","n","parseInt","ContactsReducer","_s","dispatch","contacts","_c","SET_CONTACTS","setContacts","$RefreshReg$"],"sources":["C:/Users/hp/Desktop/ramadanProjet/client/src/Atelier3/reducer.js"],"sourcesContent":["import axios from 'axios';\r\nimport { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst fetchData = async () => {\r\n    try {\r\n        const response = await axios.get('http://localhost:3001/students');\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n        return [];\r\n    }\r\n};\r\n\r\nconst initialState = {\r\n    infoContacts: [] // Initialize with an empty array\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"AddContact\":\r\n            axios.post(\"http://localhost:3001/students/create\", action.payload)\r\n                .then(response => {\r\n                    // Handle success if needed\r\n                    console.log(response.data);\r\n                })\r\n                .catch(error => {\r\n                    // Handle error if needed\r\n                    console.error('Error adding contact:', error);\r\n                });\r\n            break;\r\n\r\n        case \"EditeContact\":\r\n            const contact = state.infoContacts.find((cn) => cn.id == action.payload.id);\r\n            if (contact) {\r\n                contact.nom = action.payload.nom;\r\n                contact.email = action.payload.email;\r\n            }\r\n            break;\r\n\r\n        case \"DetailContact\":\r\n            break;\r\n\r\n        case \"DeleteContact\":\r\n            return { ...state, infoContacts: [...state.infoContacts.filter(n => n.id !== parseInt(action.payload))] };\r\ndefault:\r\n            return state\r\n    }\r\n}\r\n\r\nconst ContactsReducer = () => {\r\n    const dispatch = useDispatch();\r\n    const contacts = useSelector(state => state.infoContacts);\r\n\r\n    useEffect(() => {\r\n        fetchData().then(data => {\r\n            dispatch({ type: \"SET_CONTACTS\", payload: data });\r\n        });\r\n    }, [dispatch, contacts]);\r\n\r\n    return reducer;\r\n}\r\n\r\nconst SET_CONTACTS = \"SET_CONTACTS\";\r\n\r\nconst setContacts = (contacts) => {\r\n    return { type: SET_CONTACTS, payload: contacts };\r\n};\r\n\r\nexport { ContactsReducer, setContacts };"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAEtD,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;EAC1B,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAG,CAAC,gCAAgC,CAAC;IAClE,OAAOD,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC5C,OAAO,EAAE;EACb;AACJ,CAAC;AAED,MAAME,YAAY,GAAG;EACjBC,YAAY,EAAE,EAAE,CAAC;AACrB,CAAC;AAED,MAAMC,OAAO,GAAGA,CAACC,KAAK,GAAGH,YAAY,EAAEI,MAAM,KAAK;EAC9C,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,YAAY;MACbf,KAAK,CAACgB,IAAI,CAAC,uCAAuC,EAAEF,MAAM,CAACG,OAAO,CAAC,CAC9DC,IAAI,CAACb,QAAQ,IAAI;QACd;QACAI,OAAO,CAACU,GAAG,CAACd,QAAQ,CAACE,IAAI,CAAC;MAC9B,CAAC,CAAC,CACDa,KAAK,CAACZ,KAAK,IAAI;QACZ;QACAC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MACjD,CAAC,CAAC;MACN;IAEJ,KAAK,cAAc;MACf,MAAMa,OAAO,GAAGR,KAAK,CAACF,YAAY,CAACW,IAAI,CAAEC,EAAE,IAAKA,EAAE,CAACC,EAAE,IAAIV,MAAM,CAACG,OAAO,CAACO,EAAE,CAAC;MAC3E,IAAIH,OAAO,EAAE;QACTA,OAAO,CAACI,GAAG,GAAGX,MAAM,CAACG,OAAO,CAACQ,GAAG;QAChCJ,OAAO,CAACK,KAAK,GAAGZ,MAAM,CAACG,OAAO,CAACS,KAAK;MACxC;MACA;IAEJ,KAAK,eAAe;MAChB;IAEJ,KAAK,eAAe;MAChB,OAAO;QAAE,GAAGb,KAAK;QAAEF,YAAY,EAAE,CAAC,GAAGE,KAAK,CAACF,YAAY,CAACgB,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACJ,EAAE,KAAKK,QAAQ,CAACf,MAAM,CAACG,OAAO,CAAC,CAAC;MAAE,CAAC;IACrH;MACY,OAAOJ,KAAK;EACpB;AACJ,CAAC;AAED,MAAMiB,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAMC,QAAQ,GAAG7B,WAAW,CAAC,CAAC;EAC9B,MAAM8B,QAAQ,GAAG/B,WAAW,CAACW,KAAK,IAAIA,KAAK,CAACF,YAAY,CAAC;EAEzDV,SAAS,CAAC,MAAM;IACZG,SAAS,CAAC,CAAC,CAACc,IAAI,CAACX,IAAI,IAAI;MACrByB,QAAQ,CAAC;QAAEjB,IAAI,EAAE,cAAc;QAAEE,OAAO,EAAEV;MAAK,CAAC,CAAC;IACrD,CAAC,CAAC;EACN,CAAC,EAAE,CAACyB,QAAQ,EAAEC,QAAQ,CAAC,CAAC;EAExB,OAAOrB,OAAO;AAClB,CAAC;AAAAmB,EAAA,CAXKD,eAAe;EAAA,QACA3B,WAAW,EACXD,WAAW;AAAA;AAAAgC,EAAA,GAF1BJ,eAAe;AAarB,MAAMK,YAAY,GAAG,cAAc;AAEnC,MAAMC,WAAW,GAAIH,QAAQ,IAAK;EAC9B,OAAO;IAAElB,IAAI,EAAEoB,YAAY;IAAElB,OAAO,EAAEgB;EAAS,CAAC;AACpD,CAAC;AAED,SAASH,eAAe,EAAEM,WAAW;AAAG,IAAAF,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}